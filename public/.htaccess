# Enable Rewrite Engine
RewriteEngine On

# ================================
# 1️⃣ ROUTING (Front Controller)
# ================================
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^ index.php [QSA,L]

# ================================
# 2️⃣ BLOCK SENSITIVE FILES
# ================================
<FilesMatch "\.(env|json|ini|log|sql|bak)$">
    Require all denied
</FilesMatch>

<Files "google-credentials.json">
    Require all denied
</Files>

# ================================
# 3️⃣ PREVENT DIRECTORY LISTING
# ================================
Options -Indexes

# ================================
# 4️⃣ SECURITY HEADERS
# ================================
<IfModule mod_headers.c>
    Header set X-Content-Type-Options "nosniff"
    Header set X-Frame-Options "SAMEORIGIN"
    Header set X-XSS-Protection "1; mode=block"
</IfModule>
